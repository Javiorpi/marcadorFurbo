<html>
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;800&display=swap" rel="stylesheet">
<style type="text/css">

    /* GENERAL */

    :root {
      --color_equipo_local: #0A9269;
      --color_equipo_visitante: #FDC316;
    }
    body { 
        background-color: transparent; 
        margin: 0px auto; 
        overflow: hidden; 
    }

    /* MARCADOR */

    .marcador_general {
        width: 504px;
        height: 200px;
    }
    .marcador_izqda {
        position: absolute;
        width: 5px;
        height: 56px;
        left: 24px;
        top: 4px;
        border-bottom-left-radius: 4px;
        border-top-left-radius: 4px;
        background: var(--color_equipo_local);
    }
    .marcador_dcha {
        position: absolute;
        width: 5px;
        height: 56px;
        left: 475px;
        top: 4px;
        border-bottom-right-radius: 4px;
        border-top-right-radius: 4px;
        background: var(--color_equipo_visitante);
    }
    .marcador_lineaHoriz {
        position: absolute;
        width: 456px;
        height: 56px;
        left: 24px;
        top: 4px;
        background: #0F7B5B;
        border-radius: 4px;
    }
    .marcador_zonaGoles {
        position: absolute;
        width: 136px;
        height: 62px;
        left: 184px;
        top: 1px;

        background: #1E2C50;
        box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.15);
        border-radius: 4px;
    }
    .marcador_zonaTiempo {
        position: absolute;
        width: 212px;
        height: 62px;
        left: 146px;
        top: 60px;
        border-bottom-right-radius: 4px;
        border-bottom-left-radius: 4px;
        /*background: #FDC316;*/
        background: #FFFFFF;
    }
    .marcador_escudosLocal {
        position: absolute;
        width: 34px;
        height: 34px;
        left: 35px;
        top: 15px;
        color: transparent;
    }
    .marcador_logoLocal {
        position: absolute;
        left: 26.47%;
        right: 23.53%;
        top: 2.94%;
        bottom: 2.94%;
    }
    .marcador_logos {
        height: 100%; 
        width: 100%; 
        object-fit: contain
    }
    .marcador_escudosLocal {
        position: absolute;
        width: 34px;
        height: 34px;
        left: 35px;
        top: 15px;
        color: transparent;
    }
    .marcador_escudosVisitante {
        position: absolute;
        width: 34px;
        height: 34px;
        left: 431px;
        top: 15px;
        color: transparent;
    }

    /* TEXTOS */

    .texto_local {
        position: absolute;
        left: 79px;
        top: 8px;
        width: 100px;
        height: 49px;
        font-family: 'Open Sans';
        font-style: normal;
        font-weight: 800;
        font-size: 35.8885px;
        line-height: 49px;
        letter-spacing: -0.438638px;
        color: #FFFFFF;
    }
    .texto_marcador {
        font-family: 'Open Sans';
        font-style: normal;
        font-weight: 800;
        font-size: 42.89px;
        line-height: 62px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        vertical-align: middle;
        letter-spacing: -0.438638px;
        color: #FFFFFF;
    }
    .texto_visitante {
        position: absolute;
        left: 328px;
        top: 8px;
        width: 100px;
        height: 49px;
        font-family: 'Open Sans';
        font-style: normal;
        font-weight: 800;
        font-size: 35.8885px;
        line-height: 49px;
        letter-spacing: -0.438638px;
        color: #FFFFFF;
    }
    .texto_cronometro {
        font-family: 'Open Sans';
        font-style: normal;
        font-weight: 400;
        font-size: 42.89px;
        line-height: 58px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        vertical-align: middle;
        letter-spacing: -0.438638px;
        color: #1E2C50;
    }
</style>
</head>
<body>
    <!-- MARCADOR -->
    <div class="marcador_general">
        <div class="marcador_lineaHoriz"></div>
        <div class="marcador_zonaTiempo" id="marcador_zonaTiempo">
            <div class="texto_cronometro" id="marcador_cronometro">00:00</div>
        </div>
        <div class="marcador_zonaGoles">
            <div class="texto_marcador" id="marcador_goles">0 - 0</div>
        </div>
        <div class="marcador_izqda"></div>
        <div class="marcador_dcha"></div>
        <div class="marcador_escudosLocal">
            <img src="escudo_local.png" class="marcador_logos"/>
        </div>
        <div class="marcador_escudosVisitante">
            <img src="escudo_visitante.png" class="marcador_logos"/>
        </div>
        <div class="texto_local" id="nombre_equipo_local">VDLC</div>
        <div class="texto_visitante" id="nombre_equipo_visitante">LMTS</div>
    </div>
    <br>
    <!-- CONTROLES -->
    <div class="controles">
        <button id="inc_local">Incrementar goles local</button>
        <button id="inc_visitante">Incrementar goles visitante</button><br>

        <button id="dec_local">Decrementar goles local</button>
        <button id="dec_visitante">Decrementar goles visitante</button><br>

        <button id="inicio_partido">Iniciar partido</button>
        <button id="inicio_parte_2">Iniciar segunda parte</button><br>
        <button id="stop_time">Detener crono</button>
        <button id="cont_time">Continuar crono</button><br><br>

        <input id="newtime" type="text" placeholder="mm:ss"/>
        <button id="set_time">SET</button><br>

        <input id="newmaxtime" type="text" placeholder="mm totales"/>
        <button id="set_max_time">SET TIEMPO MAX</button><br>
	    <div id="minutos_totales"></div><br>

        <input id="local_color" type="text" placeholder="#RRGGBB color local"/>
        <button id="set_local_color">SET</button><br>

        <input id="visitante_color" type="text" placeholder="#RRGGBB color visitante"/>
        <button id="set_visitante_color">SET</button><br>

        <input id="local_name" type="text" placeholder="Nombre local"/>
        <button id="set_local_name">SET</button><br>

        <input id="visitante_name" type="text" placeholder="Nombre visitante"/>
        <button id="set_visitante_name">SET</button><br>
    </div>
</body>
<script type="text/javascript">

//------ Variables globales

    var goles_locales = 0;
    var goles_visitante = 0;

    var minuto_partido = 0;
    var segundo_partido = 0;
    var minuto_descuento = 0;
    var segundo = 0;
    var tiempo_total = 45;

    var partido_parado = true;
    var es_primera_parte = true;

    const marcador_goles = document.getElementById("marcador_goles");

    const marcador_cronometro = document.getElementById("marcador_cronometro");
    const contenedor_cronometro = document.getElementById('marcador_zonaTiempo')

//------ Gestion de textos

    var actualizar_marcador = function() {
        let es_descuento = ((es_primera_parte && minuto_partido >= tiempo_total) || 
            minuto_partido >= (tiempo_total * 2));

        marcador_goles.innerHTML = goles_locales + ' - ' + goles_visitante;
        marcador_cronometro.innerHTML =
            (minuto_partido).toString().padStart(2,'0') + ":" +
            ((segundo_partido).toString().padStart(2,'0'));

        if (es_descuento) {
            marcador_cronometro.style.color = '#FFFFFF';
            contenedor_cronometro.style.background = '#FDC316';
        } else {
            marcador_cronometro.style.color = '#1E2C50';
            contenedor_cronometro.style.background = '#FFFFFF';

        }
        
    }

    document.getElementById("inc_local").onclick = function() {
        goles_locales = goles_locales + 1;
        actualizar_marcador();
    }

    document.getElementById("inc_visitante").onclick = function() {
        goles_visitante = goles_visitante + 1;
        actualizar_marcador();
    }
        
    document.getElementById("dec_local").onclick = function() {
        goles_locales = goles_locales - 1;
        actualizar_marcador();
    }

    document.getElementById("dec_visitante").onclick = function() {
        goles_visitante = goles_visitante - 1;
        actualizar_marcador();
    }

    document.getElementById("inicio_partido").onclick = function(){
        es_primera_parte = true;
        partido_parado = false;
        segundo = 0;
        actualizar_marcador();
    }

    document.getElementById("inicio_parte_2").onclick = function() {
        es_primera_parte = false;
        partido_parado = false;
        segundo = tiempo_total*60;
        actualizar_marcador();
    }

    document.getElementById("stop_time").onclick = function() {
        partido_parado = true;
        actualizar_marcador();
    }

    document.getElementById("cont_time").onclick = function() {
        partido_parado = false;
        actualizar_marcador();
    }
    
//------ Gestion del tiempo

    var actualizar_tiempos = function() {

        if ( partido_parado ) {
            return;
        }

        segundo = segundo + 1;
        segundo_partido = segundo % 60;
        minuto_partido = Math.floor(segundo / 60);

       

        actualizar_marcador();
    }

    document.getElementById("set_time").onclick = function() {
        const newtime = document.getElementById("newtime").value;
        const valores = newtime.split(":");

        let input_minute = parseInt(valores[0]);
        let input_second = parseInt(valores[1]);

        es_primera_parte = input_minute < tiempo_total;
        segundo = input_minute * 60 + input_second;

        actualizar_tiempos();
        actualizar_marcador();
    }

    document.getElementById("set_max_time").onclick = function() {
        const newtime = document.getElementById("newmaxtime").value;

        tiempo_total = parseInt(newtime);

	document.getElementById("minutos_totales").innerHTML = 
			    "Minutos totales: " + tiempo_total;	
        
        actualizar_tiempos();
        actualizar_marcador();
    }

    setInterval(actualizar_tiempos, 1000);

    actualizar_marcador();

//------ Gestion de la interfaz

    document.getElementById("set_local_color").onclick = function() {
        document.querySelector(':root').style.setProperty
            ('--color_equipo_local', 
            document.getElementById("local_color").value);
    }

    document.getElementById("set_visitante_color").onclick = function() {
        document.querySelector(':root').style.setProperty
            ('--color_equipo_visitante', 
            document.getElementById("visitante_color").value);
    }

    document.getElementById("set_local_name").onclick = function() {
        document.getElementById("nombre_equipo_local").innerHTML = 
            document.getElementById("local_name").value
    }

    document.getElementById("set_visitante_name").onclick = function() {
        document.getElementById("nombre_equipo_visitante").innerHTML = 
            document.getElementById("visitante_name").value
    }

</script>
</html> 